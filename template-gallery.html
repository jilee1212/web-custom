<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ ì¡°í•©í˜• í…œí”Œë¦¿ ê°¤ëŸ¬ë¦¬ - 96ê°œ ìë™ ìƒì„± í…œí”Œë¦¿!</title>

    <!-- ê¸°ì¡´ CSS ë¡œë“œ -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/customizer.css">
    <link rel="stylesheet" href="css/template-styles.css">

    <!-- ê°¤ëŸ¬ë¦¬ ì „ìš© CSS -->
    <style>
        /* ê°¤ëŸ¬ë¦¬ ë©”ì¸ ìŠ¤íƒ€ì¼ */
        .gallery-header {
            background: linear-gradient(135deg, var(--color-primary-500, #3b82f6), var(--color-secondary-500, #1e40af));
            color: white;
            padding: 4rem 0;
            text-align: center;
        }

        .gallery-header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .gallery-header .stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* í•„í„° ì„¹ì…˜ */
        .filter-section {
            background: white;
            padding: 2rem 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            sticky: top;
            z-index: 100;
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--color-neutral-300);
            background: white;
            color: var(--color-text-secondary);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-tab.active {
            background: var(--color-primary-500);
            color: white;
            border-color: var(--color-primary-500);
        }

        .filter-tab:hover {
            border-color: var(--color-primary-500);
            color: var(--color-primary-500);
        }

        .filter-controls {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-group label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text-secondary);
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid var(--color-neutral-300);
            border-radius: 8px;
            background: white;
            font-size: 0.9rem;
        }

        /* í…œí”Œë¦¿ ê·¸ë¦¬ë“œ */
        .templates-section {
            padding: 4rem 0;
        }

        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        /* í…œí”Œë¦¿ ì¹´ë“œ */
        .template-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .template-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .template-preview {
            position: relative;
            height: 200px;
            background: var(--color-neutral-100);
            overflow: hidden;
        }

        .template-preview iframe {
            width: 100%;
            height: 100%;
            border: none;
            transform: scale(0.5);
            transform-origin: top left;
            width: 200%;
            height: 200%;
        }

        .template-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .template-card:hover .template-overlay {
            opacity: 1;
        }

        .template-actions {
            display: flex;
            gap: 1rem;
        }

        .action-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview-btn {
            background: white;
            color: var(--color-text-primary);
        }

        .select-btn {
            background: var(--color-primary-500);
            color: white;
        }

        .action-btn:hover {
            transform: scale(1.05);
        }

        .template-info {
            padding: 1.5rem;
        }

        .template-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 0.5rem;
        }

        .template-description {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .template-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .template-tag {
            padding: 0.25rem 0.75rem;
            background: var(--color-neutral-100);
            color: var(--color-text-secondary);
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .template-combinations {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--color-text-secondary);
        }

        .combination-badge {
            padding: 0.25rem 0.5rem;
            background: var(--color-primary-100);
            color: var(--color-primary-600);
            border-radius: 4px;
            font-weight: 500;
        }

        /* ë¡œë”© ìƒíƒœ */
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
            height: 200px;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--color-text-secondary);
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        /* ìƒì„± í†µê³„ */
        .generation-stats {
            background: var(--color-neutral-50);
            padding: 2rem 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .stats-item {
            text-align: center;
        }

        .stats-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--color-primary-500);
        }

        .stats-description {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            margin-top: 0.5rem;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .gallery-header h1 { font-size: 2rem; }
            .gallery-header .stats { gap: 1.5rem; flex-direction: column; }
            .filter-controls { flex-direction: column; gap: 1rem; }
            .templates-grid { grid-template-columns: 1fr; }
            .template-actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <!-- ê°¤ëŸ¬ë¦¬ í—¤ë” -->
    <header class="gallery-header">
        <div class="container">
            <h1>ğŸ¨ ì¡°í•©í˜• í…œí”Œë¦¿ ê°¤ëŸ¬ë¦¬</h1>
            <p>4ê°œ ë² ì´ìŠ¤ Ã— 8ê°œ ì—…ì¢… Ã— 3ê°œ ìŠ¤íƒ€ì¼ = ìë™ ìƒì„±ëœ 96ê°œ ìœ ë‹ˆí¬ í…œí”Œë¦¿!</p>

            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number" id="total-templates">96</span>
                    <span class="stat-label">ì´ í…œí”Œë¦¿</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="loaded-templates">0</span>
                    <span class="stat-label">ë¡œë“œëœ í…œí”Œë¦¿</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">8</span>
                    <span class="stat-label">ì—…ì¢… ì¹´í…Œê³ ë¦¬</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-label">ë””ìì¸ ìŠ¤íƒ€ì¼</span>
                </div>
            </div>
        </div>
    </header>

    <!-- í•„í„° ì„¹ì…˜ -->
    <section class="filter-section">
        <div class="container">
            <!-- ì¹´í…Œê³ ë¦¬ íƒ­ -->
            <div class="filter-tabs">
                <button class="filter-tab active" data-category="all">ì „ì²´</button>
                <button class="filter-tab" data-category="healthcare">ì˜ë£Œ</button>
                <button class="filter-tab" data-category="restaurant">ë ˆìŠ¤í† ë‘</button>
                <button class="filter-tab" data-category="technology">ê¸°ìˆ </button>
                <button class="filter-tab" data-category="education">êµìœ¡</button>
                <button class="filter-tab" data-category="finance">ê¸ˆìœµ</button>
                <button class="filter-tab" data-category="realestate">ë¶€ë™ì‚°</button>
                <button class="filter-tab" data-category="legal">ë²•ë¬´</button>
                <button class="filter-tab" data-category="fitness">í—¬ìŠ¤</button>
            </div>

            <!-- ì„¸ë¶€ í•„í„° -->
            <div class="filter-controls">
                <div class="filter-group">
                    <label>ë² ì´ìŠ¤ íƒ€ì…</label>
                    <select class="filter-select" id="base-filter">
                        <option value="all">ì „ì²´</option>
                        <option value="corporate">ê¸°ì—…í˜•</option>
                        <option value="creative">í¬ë¦¬ì—ì´í‹°ë¸Œí˜•</option>
                        <option value="commerce">ìƒì—…í˜•</option>
                        <option value="landing">ëœë”©í˜•</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>ë””ìì¸ ìŠ¤íƒ€ì¼</label>
                    <select class="filter-select" id="style-filter">
                        <option value="all">ì „ì²´</option>
                        <option value="modern">ëª¨ë˜</option>
                        <option value="classic">í´ë˜ì‹</option>
                        <option value="bold">ëŒ€ë‹´í•œ</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button class="btn btn-primary" onclick="generateAllTemplates()">
                        ğŸš€ ì „ì²´ í…œí”Œë¦¿ ìƒì„± (96ê°œ)
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- í…œí”Œë¦¿ ê·¸ë¦¬ë“œ ì„¹ì…˜ -->
    <section class="templates-section">
        <div class="container">
            <div class="templates-grid" id="templates-grid">
                <!-- í…œí”Œë¦¿ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>

            <!-- ê²°ê³¼ ì—†ìŒ ë©”ì‹œì§€ -->
            <div class="no-results" id="no-results" style="display: none;">
                <h3>ğŸ˜… ì¡°ê±´ì— ë§ëŠ” í…œí”Œë¦¿ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                <p>ë‹¤ë¥¸ í•„í„° ì¡°ê±´ì„ ì„ íƒí•´ë³´ì„¸ìš”.</p>
            </div>
        </div>
    </section>

    <!-- ìƒì„± í†µê³„ ì„¹ì…˜ -->
    <section class="generation-stats">
        <div class="container">
            <h2>ğŸ“Š ìƒì„± í†µê³„</h2>
            <div class="stats-grid" id="stats-grid">
                <!-- í†µê³„ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </section>

    <!-- ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div class="preview-modal" id="preview-modal" style="display: none;">
        <div class="modal-overlay" onclick="closePreviewModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="preview-title">í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸°</h2>
                <div class="device-selector">
                    <button class="device-btn active" data-device="desktop">ğŸ–¥ï¸</button>
                    <button class="device-btn" data-device="tablet">ğŸ“±</button>
                    <button class="device-btn" data-device="mobile">ğŸ“±</button>
                </div>
                <button class="close-btn" onclick="closePreviewModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <iframe id="preview-iframe" src="" frameborder="0"></iframe>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="selectCurrentTemplate()">
                    ì´ í…œí”Œë¦¿ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‹œì‘
                </button>
            </div>
        </div>
    </div>

    <!-- ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
    <script src="js/base-templates.js"></script>
    <script src="js/industry-content-extended.js"></script>
    <script src="js/combinatorial-generator.js"></script>

    <script>
        // ê°¤ëŸ¬ë¦¬ ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬
        class TemplateGallery {
            constructor() {
                this.generator = null;
                this.currentFilter = {
                    category: 'all',
                    base: 'all',
                    style: 'all'
                };
                this.templates = [];
                this.currentPreviewTemplate = null;

                this.init();
            }

            async init() {
                console.log('ğŸ¨ í…œí”Œë¦¿ ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì‹œì‘');

                try {
                    // ì¡°í•©í˜• ìƒì„± ì—”ì§„ ì´ˆê¸°í™”
                    this.generator = new CombinatorialTemplateGenerator();
                    await this.generator.initialize();

                    // UI ì´ë²¤íŠ¸ ë°”ì¸ë”©
                    this.bindEvents();

                    // ì´ˆê¸° í…œí”Œë¦¿ ë¯¸ë¦¬ ë¡œë“œ (ê° ì¹´í…Œê³ ë¦¬ë³„ 1ê°œì”©)
                    this.loadSampleTemplates();

                    console.log('âœ… í…œí”Œë¦¿ ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì™„ë£Œ');
                } catch (error) {
                    console.error('âŒ ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                }
            }

            // ì´ë²¤íŠ¸ ë°”ì¸ë”©
            bindEvents() {
                // ì¹´í…Œê³ ë¦¬ íƒ­
                document.querySelectorAll('.filter-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        this.selectCategory(e.target.dataset.category);
                    });
                });

                // ë² ì´ìŠ¤/ìŠ¤íƒ€ì¼ í•„í„°
                document.getElementById('base-filter').addEventListener('change', (e) => {
                    this.currentFilter.base = e.target.value;
                    this.filterTemplates();
                });

                document.getElementById('style-filter').addEventListener('change', (e) => {
                    this.currentFilter.style = e.target.value;
                    this.filterTemplates();
                });

                // ë””ë°”ì´ìŠ¤ selector
                document.querySelectorAll('.device-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.switchPreviewDevice(e.target.dataset.device);
                    });
                });
            }

            // ìƒ˜í”Œ í…œí”Œë¦¿ ë¡œë“œ (ë¹ ë¥¸ ë¯¸ë¦¬ë³´ê¸°ìš©)
            async loadSampleTemplates() {
                const sampleCombinations = [
                    ['corporate', 'healthcare', 'modern'],
                    ['creative', 'restaurant', 'classic'],
                    ['commerce', 'technology', 'bold'],
                    ['landing', 'education', 'modern'],
                    ['corporate', 'finance', 'classic'],
                    ['creative', 'fitness', 'bold']
                ];

                for (const [base, industry, style] of sampleCombinations) {
                    const template = this.generator.createTemplate(base, industry, style);
                    if (template) {
                        this.templates.push(template);
                    }
                }

                this.renderTemplates();
                this.updateStats();
            }

            // ì¹´í…Œê³ ë¦¬ ì„ íƒ
            selectCategory(category) {
                // íƒ­ UI ì—…ë°ì´íŠ¸
                document.querySelectorAll('.filter-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`[data-category="${category}"]`).classList.add('active');

                this.currentFilter.category = category;
                this.filterTemplates();
            }

            // í…œí”Œë¦¿ í•„í„°ë§
            filterTemplates() {
                let filteredTemplates = this.templates;

                // ì¹´í…Œê³ ë¦¬ í•„í„°
                if (this.currentFilter.category !== 'all') {
                    filteredTemplates = filteredTemplates.filter(t =>
                        t.combinations.industry === this.currentFilter.category
                    );
                }

                // ë² ì´ìŠ¤ í•„í„°
                if (this.currentFilter.base !== 'all') {
                    filteredTemplates = filteredTemplates.filter(t =>
                        t.combinations.base === this.currentFilter.base
                    );
                }

                // ìŠ¤íƒ€ì¼ í•„í„°
                if (this.currentFilter.style !== 'all') {
                    filteredTemplates = filteredTemplates.filter(t =>
                        t.combinations.style === this.currentFilter.style
                    );
                }

                this.renderTemplates(filteredTemplates);
            }

            // í…œí”Œë¦¿ ë Œë”ë§
            renderTemplates(templates = this.templates) {
                const grid = document.getElementById('templates-grid');
                const noResults = document.getElementById('no-results');

                if (templates.length === 0) {
                    grid.innerHTML = '';
                    noResults.style.display = 'block';
                    return;
                }

                noResults.style.display = 'none';

                grid.innerHTML = templates.map(template => `
                    <div class="template-card" data-template-id="${template.id}">
                        <div class="template-preview">
                            <div class="loading-skeleton"></div>
                            <div class="template-overlay">
                                <div class="template-actions">
                                    <button class="action-btn preview-btn" onclick="gallery.previewTemplate('${template.id}')">
                                        ë¯¸ë¦¬ë³´ê¸°
                                    </button>
                                    <button class="action-btn select-btn" onclick="gallery.selectTemplate('${template.id}')">
                                        ì„ íƒí•˜ê¸°
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="template-info">
                            <h3 class="template-title">${template.name}</h3>
                            <p class="template-description">${template.description}</p>
                            <div class="template-tags">
                                ${template.metadata.tags.slice(0, 3).map(tag =>
                                    `<span class="template-tag">${tag}</span>`
                                ).join('')}
                            </div>
                            <div class="template-combinations">
                                <div class="combination-badges">
                                    <span class="combination-badge">${template.combinations.base}</span>
                                    <span class="combination-badge">${template.combinations.style}</span>
                                </div>
                                <span class="template-id">${template.id}</span>
                            </div>
                        </div>
                    </div>
                `).join('');

                document.getElementById('loaded-templates').textContent = templates.length;
            }

            // í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸°
            previewTemplate(templateId) {
                const template = this.templates.find(t => t.id === templateId);
                if (!template) return;

                this.currentPreviewTemplate = template;

                // ì„ì‹œ HTML í˜ì´ì§€ ìƒì„±
                const previewHtml = this.generatePreviewHTML(template);
                const blob = new Blob([previewHtml], { type: 'text/html' });
                const previewUrl = URL.createObjectURL(blob);

                // ëª¨ë‹¬ ì—´ê¸°
                document.getElementById('preview-title').textContent = template.name;
                document.getElementById('preview-iframe').src = previewUrl;
                document.getElementById('preview-modal').style.display = 'block';
                document.body.style.overflow = 'hidden';
            }

            // ë¯¸ë¦¬ë³´ê¸° HTML ìƒì„±
            generatePreviewHTML(template) {
                return `
                    <!DOCTYPE html>
                    <html lang="ko">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>${template.name}</title>
                        <style>
                            ${template.css}
                            body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
                            .base-template { class="${template.combinations.style}"; }
                        </style>
                    </head>
                    <body class="style-${template.combinations.style}">
                        ${template.html}
                    </body>
                    </html>
                `;
            }

            // í…œí”Œë¦¿ ì„ íƒ
            selectTemplate(templateId) {
                const template = this.templates.find(t => t.id === templateId);
                if (!template) return;

                // ë©”ì¸ ì»¤ìŠ¤í„°ë§ˆì´ì €ë¡œ ì´ë™
                const customizeUrl = `index.html?template=${templateId}&base=${template.combinations.base}&industry=${template.combinations.industry}&style=${template.combinations.style}`;
                window.location.href = customizeUrl;
            }

            // ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°
            closePreviewModal() {
                document.getElementById('preview-modal').style.display = 'none';
                document.body.style.overflow = 'auto';

                // URL ì •ë¦¬
                const iframe = document.getElementById('preview-iframe');
                if (iframe.src.startsWith('blob:')) {
                    URL.revokeObjectURL(iframe.src);
                }
                iframe.src = '';
            }

            // í˜„ì¬ ë¯¸ë¦¬ë³´ê¸° í…œí”Œë¦¿ ì„ íƒ
            selectCurrentTemplate() {
                if (this.currentPreviewTemplate) {
                    this.selectTemplate(this.currentPreviewTemplate.id);
                }
            }

            // ë””ë°”ì´ìŠ¤ ì „í™˜
            switchPreviewDevice(device) {
                document.querySelectorAll('.device-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-device="${device}"]`).classList.add('active');

                const iframe = document.getElementById('preview-iframe');
                const modal = document.querySelector('.modal-content');

                switch (device) {
                    case 'desktop':
                        modal.style.width = '90%';
                        modal.style.height = '90%';
                        break;
                    case 'tablet':
                        modal.style.width = '768px';
                        modal.style.height = '90%';
                        break;
                    case 'mobile':
                        modal.style.width = '375px';
                        modal.style.height = '90%';
                        break;
                }
            }

            // í†µê³„ ì—…ë°ì´íŠ¸
            updateStats() {
                if (!this.generator) return;

                const stats = this.generator.getGenerationStats();

                const statsGrid = document.getElementById('stats-grid');
                statsGrid.innerHTML = `
                    <div class="stats-item">
                        <div class="stats-value">${stats.bases}</div>
                        <div class="stats-description">ë² ì´ìŠ¤ í…œí”Œë¦¿</div>
                    </div>
                    <div class="stats-item">
                        <div class="stats-value">${stats.industries}</div>
                        <div class="stats-description">ì—…ì¢… ì¹´í…Œê³ ë¦¬</div>
                    </div>
                    <div class="stats-item">
                        <div class="stats-value">${stats.styles}</div>
                        <div class="stats-description">ë””ìì¸ ìŠ¤íƒ€ì¼</div>
                    </div>
                    <div class="stats-item">
                        <div class="stats-value">${stats.generated}</div>
                        <div class="stats-description">ìƒì„±ëœ í…œí”Œë¦¿</div>
                    </div>
                `;
            }
        }

        // ì „ì²´ í…œí”Œë¦¿ ìƒì„± (96ê°œ)
        async function generateAllTemplates() {
            const btn = event.target;
            const originalText = btn.textContent;

            btn.textContent = 'ìƒì„± ì¤‘...';
            btn.disabled = true;

            try {
                console.log('ğŸš€ ì „ì²´ 96ê°œ í…œí”Œë¦¿ ìƒì„± ì‹œì‘...');

                const allTemplates = gallery.generator.generateAllCombinations();
                gallery.templates = allTemplates;
                gallery.renderTemplates();
                gallery.updateStats();

                btn.textContent = 'âœ… ìƒì„± ì™„ë£Œ!';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }, 2000);

            } catch (error) {
                console.error('í…œí”Œë¦¿ ìƒì„± ì˜¤ë¥˜:', error);
                btn.textContent = 'âŒ ì˜¤ë¥˜ ë°œìƒ';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }, 2000);
            }
        }

        // ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜ë“¤
        function closePreviewModal() {
            gallery.closePreviewModal();
        }

        function selectCurrentTemplate() {
            gallery.selectCurrentTemplate();
        }

        // ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™”
        const gallery = new TemplateGallery();

        // CSS ìŠ¤íƒ€ì¼ ì¶”ê°€ (ëª¨ë‹¬ìš©)
        const modalStyles = `
            .preview-modal {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .modal-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
            }

            .modal-content {
                position: relative;
                width: 90%;
                height: 90%;
                background: white;
                border-radius: 12px;
                overflow: hidden;
                display: flex;
                flex-direction: column;
                max-width: 1200px;
            }

            .modal-header {
                padding: 1rem 2rem;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
                background: var(--color-primary-500);
                color: white;
            }

            .modal-header h2 {
                margin: 0;
                font-size: 1.25rem;
            }

            .device-selector {
                display: flex;
                gap: 0.5rem;
            }

            .device-btn {
                padding: 0.5rem;
                border: 1px solid rgba(255,255,255,0.3);
                background: transparent;
                color: white;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .device-btn.active,
            .device-btn:hover {
                background: rgba(255,255,255,0.2);
            }

            .close-btn {
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
                padding: 0.5rem;
                border-radius: 4px;
                transition: background 0.2s ease;
            }

            .close-btn:hover {
                background: rgba(255,255,255,0.2);
            }

            .modal-body {
                flex: 1;
                position: relative;
            }

            .modal-body iframe {
                width: 100%;
                height: 100%;
                border: none;
            }

            .modal-footer {
                padding: 1rem 2rem;
                border-top: 1px solid #eee;
                text-align: center;
            }
        `;

        // ìŠ¤íƒ€ì¼ ì¶”ê°€
        const styleSheet = document.createElement('style');
        styleSheet.textContent = modalStyles;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>